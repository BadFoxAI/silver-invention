<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>A-Frame FPS with Physics</title>
    <meta name="description" content="A-Frame First-Person Shooter controls with Physics">

    <!-- A-Frame Library -->
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>

    <!-- A-Frame Physics System (using Cannon.js driver by default) -->
    <script src="https://unpkg.com/aframe-physics-system@4.3.1/dist/aframe-physics-system.min.js"></script>

    <!-- Optional: A-Frame Environment Component for nice presets later -->
    <!-- <script src="https://unpkg.com/aframe-environment-component@1.3.9/dist/aframe-environment-component.min.js"></script> -->

</head>
<body>
    <!-- Enable the physics system on the scene -->
    <!-- debug: true shows collision shapes -->
    <a-scene background="color: #ADD8E6" physics="gravity: -9.8; debug: false;">

        <!-- Assets Management System (good practice, though not strictly needed for primitives) -->
        <a-assets>
            <!-- Define materials or models here later -->
        </a-assets>

        <!-- Player Rig -->
        <!-- This entity represents the player -->
        <a-entity id="player"
                  position="0 1.6 5" <!-- Start position (x y z), 1.6m height, back slightly -->
                  wasd-controls="acceleration: 80" <!-- Standard WASD movement, higher acceleration -->
                  dynamic-body="shape: capsule; <!-- Collision shape for player -->
                                mass: 5;
                                linearDamping: 0.9; <!-- Prevent sliding forever -->
                                angularFactor: 0 0 0;" <!-- Prevent player capsule from rotating/tipping over -->
                                >
            <!-- The camera is nested inside the player entity -->
            <!-- It moves with the player automatically -->
            <!-- look-controls handles mouse drag / VR head look -->
            <a-camera look-controls="pointerLockEnabled: true">
                <!-- Optional: Add a cursor for interaction feedback -->
                <a-cursor></a-cursor>
            </a-camera>
        </a-entity>


        <!-- Dynamic Objects (affected by physics) -->
        <a-box position="-2 4 -3" rotation="10 30 5" color="#4CC3D9"
               shadow="cast: true"
               dynamic-body="mass: 1.5">
        </a-box>

        <a-sphere position="0 6 -5" radius="1" color="#EF2D5E"
                  shadow="cast: true"
                  dynamic-body="mass: 2.5; angularDamping: 0.1;"> <!-- Add some damping -->
        </a-sphere>

        <a-cylinder position="2 3 -2" radius="0.5" height="1.5" color="#FFC65D"
                    shadow="cast: true"
                    dynamic-body="mass: 1">
        </a-cylinder>

         <!-- Add a few more boxes -->
         <a-box position="-1.5 8 -4" rotation="30 10 40" width="0.8" height="0.8" depth="0.8" color="#FFA07A"
               shadow="cast: true"
               dynamic-body="mass: 1">
        </a-box>
         <a-box position="1.8 5 -3.5" rotation="5 70 20" width="1.2" height="1.2" depth="1.2" color="#98FB98"
               shadow="cast: true"
               dynamic-body="mass: 1.8">
        </a-box>


        <!-- Static Ground -->
        <a-plane position="0 0 0" rotation="-90 0 0" width="50" height="50"
                 color="#7BC8A4"
                 shadow="receive: true"
                 static-body> <!-- Makes it solid but immovable -->
        </a-plane>

        <!-- Lighting -->
        <!-- Use the environment component later for better lighting/sky presets -->
        <a-light type="ambient" color="#888"></a-light>
        <a-light type="directional"
                 position="-1 1.5 1"
                 target="#player" <!-- Light follows player direction roughly -->
                 intensity="0.8"
                 castShadow="true"
                 shadow-mapSize-width="2048" <!-- Increase shadow quality -->
                 shadow-mapSize-height="2048"
                 shadow-camera-left="-15"
                 shadow-camera-right="15"
                 shadow-camera-bottom="-15"
                 shadow-camera-top="15"
                 shadow-camera-near="0.5"
                 shadow-camera-far="50">
        </a-light>

        <!-- Basic Sky -->
        <a-sky color="#B0E0E6"></a-sky>

    </a-scene>
</body>
</html>
